{
  "version": 3,
  "sources": ["../../../../../node_modules/ngx-socket-io/fesm2022/ngx-socket-io.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { InjectionToken, NgModule } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport * as io from 'socket.io-client';\nclass WrappedSocket {\n  config;\n  subscribersCounter = {};\n  eventObservables$ = {};\n  ioSocket;\n  emptyConfig = {\n    url: '',\n    options: {}\n  };\n  constructor(config) {\n    this.config = config;\n    if (config === undefined) {\n      config = this.emptyConfig;\n    }\n    const url = config.url;\n    const options = config.options;\n    const ioFunc = io.default ? io.default : io;\n    this.ioSocket = ioFunc(url, options);\n  }\n  of(namespace) {\n    this.ioSocket.of(namespace);\n  }\n  on(eventName, callback) {\n    this.ioSocket.on(eventName, callback);\n  }\n  once(eventName, callback) {\n    this.ioSocket.once(eventName, callback);\n  }\n  connect(callback) {\n    return this.ioSocket.connect(callback);\n  }\n  disconnect(_close) {\n    return this.ioSocket.disconnect.apply(this.ioSocket, arguments);\n  }\n  emit(_eventName, ..._args) {\n    return this.ioSocket.emit.apply(this.ioSocket, arguments);\n  }\n  removeListener(_eventName, _callback) {\n    return this.ioSocket.removeListener.apply(this.ioSocket, arguments);\n  }\n  removeAllListeners(_eventName) {\n    return this.ioSocket.removeAllListeners.apply(this.ioSocket, arguments);\n  }\n  fromEvent(eventName) {\n    if (!this.subscribersCounter[eventName]) {\n      this.subscribersCounter[eventName] = 0;\n    }\n    this.subscribersCounter[eventName]++;\n    if (!this.eventObservables$[eventName]) {\n      this.eventObservables$[eventName] = new Observable(observer => {\n        const listener = data => {\n          observer.next(data);\n        };\n        this.ioSocket.on(eventName, listener);\n        return () => {\n          this.subscribersCounter[eventName]--;\n          if (this.subscribersCounter[eventName] === 0) {\n            this.ioSocket.removeListener(eventName, listener);\n            delete this.eventObservables$[eventName];\n          }\n        };\n      }).pipe(share());\n    }\n    return this.eventObservables$[eventName];\n  }\n  fromOneTimeEvent(eventName) {\n    return new Promise(resolve => this.once(eventName, resolve));\n  }\n  listeners(eventName) {\n    return this.ioSocket.listeners(eventName);\n  }\n  listenersAny() {\n    return this.ioSocket.listenersAny();\n  }\n  listenersAnyOutgoing() {\n    return this.ioSocket.listenersAnyOutgoing();\n  }\n  off(eventName, listener) {\n    if (!eventName) {\n      // Remove all listeners for all events\n      return this.ioSocket.offAny();\n    }\n    if (eventName && !listener) {\n      // Remove all listeners for that event\n      return this.ioSocket.off(eventName);\n    }\n    // Removes the specified listener from the listener array for the event named\n    return this.ioSocket.off(eventName, listener);\n  }\n  onAny(callback) {\n    return this.ioSocket.onAny(callback);\n  }\n  onAnyOutgoing(callback) {\n    return this.ioSocket.onAnyOutgoing(callback);\n  }\n  prependAny(callback) {\n    return this.ioSocket.prependAny(callback);\n  }\n  prependAnyOutgoing(callback) {\n    return this.ioSocket.prependAnyOutgoing(callback);\n  }\n  timeout(value) {\n    return this.ioSocket.timeout(value);\n  }\n  volatile() {\n    return this.ioSocket.volatile;\n  }\n}\n\n/** Socket factory */\nfunction SocketFactory(config) {\n  return new WrappedSocket(config);\n}\nconst SOCKET_CONFIG_TOKEN = new InjectionToken('__SOCKET_IO_CONFIG__');\nclass SocketIoModule {\n  static forRoot(config) {\n    return {\n      ngModule: SocketIoModule,\n      providers: [{\n        provide: SOCKET_CONFIG_TOKEN,\n        useValue: config\n      }, {\n        provide: WrappedSocket,\n        useFactory: SocketFactory,\n        deps: [SOCKET_CONFIG_TOKEN]\n      }]\n    };\n  }\n  static ɵfac = function SocketIoModule_Factory(t) {\n    return new (t || SocketIoModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SocketIoModule\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SocketIoModule, [{\n    type: NgModule,\n    args: [{}]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { WrappedSocket as Socket, SocketIoModule };\n"],
  "mappings": "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",
  "names": []
}
